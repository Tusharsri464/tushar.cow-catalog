{"version":3,"file":"src_app_cows_cows_module_ts.js","mappings":"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","sources":["./src/app/core/models/cow-event-type.enum.ts","./src/app/core/services/cow.service.ts","./src/app/core/services/local-storage.service.ts","./src/app/cows/components/cow-detail/cow-detail.component.ts","./src/app/cows/components/cow-detail/cow-detail.component.html","./src/app/cows/components/cow-filters/cow-filters.component.ts","./src/app/cows/components/cow-filters/cow-filters.component.html","./src/app/cows/components/cow-form/cow-form.component.ts","./src/app/cows/components/cow-form/cow-form.component.html","./src/app/cows/components/cow-list/cow-list.component.ts","./src/app/cows/components/cow-list/cow-list.component.html","./src/app/cows/cows-routing.module.ts","./src/app/cows/cows.module.ts"],"sourcesContent":["export enum CowEventType {\n  WEIGHT_CHECK = 'WEIGHT_CHECK',\n  TREATMENT = 'TREATMENT',\n  PEN_CHANGED = 'PEN_CHANGED',\n  DEATH = 'DEATH'\n}\n","import { Injectable } from '@angular/core';\nimport { BehaviorSubject, combineLatest, Observable } from 'rxjs';\nimport { map } from 'rxjs/operators';\nimport { Cow } from '../models/cow.model';\nimport { CowStatus } from '../models/cow-status.enum';\nimport { LocalStorageService } from './local-storage.service';\nimport { CowEvent } from '../models/cow-event.model';\nimport { CowEventType } from '../models/cow-event-type.enum';\n\nexport interface CowFilterState {\n  tagSearch: string;\n  status: CowStatus | 'ALL';\n  pen: string | 'ALL';\n}\n\nconst STORAGE_KEY = 'cowCatalog.cows';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class CowService {\n  private readonly cowsSubject = new BehaviorSubject<Cow[]>([]);\n  readonly cows$ = this.cowsSubject.asObservable();\n\n  private readonly filterStateSubject = new BehaviorSubject<CowFilterState>({\n    tagSearch: '',\n    status: 'ALL',\n    pen: 'ALL'\n  });\n\n  readonly filterState$ = this.filterStateSubject.asObservable();\n\n  constructor(private readonly storage: LocalStorageService) {\n    const persisted = this.storage.getItem<Cow[]>(STORAGE_KEY);\n    if (persisted && persisted.length) {\n      this.cowsSubject.next(persisted);\n    } else {\n      const seed = this.buildMockData();\n      this.cowsSubject.next(seed);\n      this.persist();\n    }\n  }\n\n\n  getCowById(id: string): Observable<Cow | undefined> {\n    return this.cows$.pipe(\n      map(cows => cows.find(c => c.id === id))\n    );\n  }\n\n  getCowByTag(tag: string): Cow | undefined {\n    return this.cowsSubject.value.find(c => c.earTag.toLowerCase() === tag.toLowerCase());\n  }\n\n  upsertCow(cow: Cow): void {\n    const list = [...this.cowsSubject.value];\n    const existingIndex = list.findIndex(c => c.id === cow.id);\n    if (existingIndex >= 0) {\n      list[existingIndex] = cow;\n    } else {\n      list.push(cow);\n    }\n    this.cowsSubject.next(list);\n    this.persist();\n  }\n\n  addCowEvent(cowId: string, event: CowEvent): void {\n    const list = [...this.cowsSubject.value];\n    const idx = list.findIndex(c => c.id === cowId);\n    if (idx < 0) {\n      return;\n    }\n    const cow = list[idx];\n    const events = [...(cow.events ?? []), event]\n      .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime());\n    const lastEventDate = events[0]?.date ?? cow.lastEventDate;\n    list[idx] = { ...cow, events, lastEventDate };\n    this.cowsSubject.next(list);\n    this.persist();\n  }\n\n  deleteCow(id: string): void {\n    const list = this.cowsSubject.value.filter(c => c.id !== id);\n    this.cowsSubject.next(list);\n    this.persist();\n  }\n\n  hasCowWithEarTag(tag: string, excludeId?: string): boolean {\n    return this.cowsSubject.value.some(c =>\n      c.earTag.toLowerCase() === tag.toLowerCase() && c.id !== excludeId\n    );\n  }\n\n  updateFilters(partial: Partial<CowFilterState>): void {\n    const next = { ...this.filterStateSubject.value, ...partial };\n    this.filterStateSubject.next(next);\n  }\n\n   getFilteredCows$(): Observable<Cow[]> {\n  return combineLatest([\n    this.cows$,\n    this.filterState$\n  ]).pipe(\n    map(([cows, filters]) => this.applyFilters(cows, filters))\n  );\n}\n\n  getFilterSnapshot(): CowFilterState {\n    return this.filterStateSubject.value;\n  }\n\n  // Get Pens list\n  getDistinctPens(): string[] {\n    const pens = new Set<string>();\n    this.cowsSubject.value.forEach(c => pens.add(c.pen));\n    return Array.from(pens).sort();\n  }\n\n  // Apply filters to cows\n  private applyFilters(cows: Cow[], filters: CowFilterState): Cow[] {\n    return cows.filter(cow => {\n      const matchesTag =\n        !filters.tagSearch ||\n        cow.earTag.toLowerCase().includes(filters.tagSearch.toLowerCase());\n\n      const matchesStatus =\n        filters.status === 'ALL' || cow.status === filters.status;\n\n      const matchesPen =\n        filters.pen === 'ALL' || cow.pen === filters.pen;\n\n      return matchesTag && matchesStatus && matchesPen;\n    });\n  }\n\n  // Store Item into local storage\n  private persist(): void {\n    this.storage.setItem(STORAGE_KEY, this.cowsSubject.value);\n  }\n\n  // Create Mock data for initial load\n  private buildMockData(): Cow[] {\n    const now = new Date();\n    const daysAgo = (d: number) => {\n      const dt = new Date(now);\n      dt.setDate(dt.getDate() - d);\n      return dt.toISOString();\n    };\n\n    const cow1: Cow = {\n      id: '1',\n      earTag: '1001',\n      sex: 'F',\n      pen: 'A1',\n      status: CowStatus.ACTIVE,\n      weight: 550,\n      dailyWeightGain: 1.1,\n      lastEventDate: daysAgo(2),\n      events: [\n        {\n          id: 'e1',\n          cowTag: '1001',\n          type: CowEventType.WEIGHT_CHECK,\n          description: 'Routine weight check. All good.',\n          date: daysAgo(2)\n        },\n        {\n          id: 'e2',\n          cowTag: '1001',\n          type: CowEventType.PEN_CHANGED,\n          description: 'Moved from pen A0 to A1.',\n          date: daysAgo(7)\n        }\n      ]\n    };\n\n    const cow2: Cow = {\n      id: '2',\n      earTag: '1002',\n      sex: 'M',\n      pen: 'B1',\n      status: CowStatus.IN_TREATMENT,\n      weight: 620,\n      dailyWeightGain: 0.5,\n      lastEventDate: daysAgo(1),\n      events: [\n        {\n          id: 'e3',\n          cowTag: '1002',\n          type: CowEventType.TREATMENT,\n          description: 'Antibiotic treatment started.',\n          date: daysAgo(1)\n        }\n      ]\n    };\n\n    const cow3: Cow = {\n      id: '3',\n      earTag: '1003',\n      sex: 'F',\n      pen: 'C3',\n      status: CowStatus.DECEASED,\n      weight: 480,\n      lastEventDate: daysAgo(10),\n      events: [\n        {\n          id: 'e4',\n          cowTag: '1003',\n          type: CowEventType.DEATH,\n          description: 'Found deceased in pen C3.',\n          date: daysAgo(10)\n        }\n      ]\n    };\n\n    return [cow1, cow2, cow3];\n  }\n}\n","import { Injectable } from '@angular/core';\n\n/**\n * Small wrapper around window.localStorage to centralise\n * error handling and JSON (de)serialisation.\n */\n@Injectable({\n  providedIn: 'root'\n})\nexport class LocalStorageService {\n  getItem<T>(key: string): T | null {\n    if (typeof window === 'undefined') {\n      return null;\n    }\n    try {\n      const raw = localStorage.getItem(key);\n      if (!raw) {\n        return null;\n      }\n      return JSON.parse(raw) as T;\n    } catch (error) {\n      console.error('LocalStorageService.getItem error', { key, error });\n      return null;\n    }\n  }\n\n  setItem<T>(key: string, value: T): void {\n    if (typeof window === 'undefined') {\n      return;\n    }\n    try {\n      const raw = JSON.stringify(value);\n      localStorage.setItem(key, raw);\n    } catch (error) {\n      console.error('LocalStorageService.setItem error', { key, error });\n    }\n  }\n\n  removeItem(key: string): void {\n    if (typeof window === 'undefined') {\n      return;\n    }\n    localStorage.removeItem(key);\n  }\n}\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { CowService } from '../../../core/services/cow.service';\nimport { Cow } from '../../../core/models/cow.model';\nimport { CowEvent } from '../../../core/models/cow-event.model';\n\n@Component({\n  selector: 'app-cow-detail',\n  templateUrl: './cow-detail.component.html',\n  styleUrls: ['./cow-detail.component.scss']\n})\nexport class CowDetailComponent implements OnInit, OnDestroy {\n  cow?: Cow;\n  lastEvents: CowEvent[] = [];\n  private subs = new Subscription();\n\n  constructor(\n    private readonly route: ActivatedRoute,\n    private readonly router: Router,\n    private readonly cowService: CowService\n  ) {}\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    if (!id) {\n      this.router.navigate(['/cows']);\n      return;\n    }\n\n    this.subs.add(\n      this.cowService.getCowById(id).subscribe(cow => {\n        if (!cow) {\n          this.router.navigate(['/cows']);\n          return;\n        }\n        this.cow = cow;\n        this.lastEvents = (cow.events ?? [])\n          .slice()\n          .sort((a, b) => new Date(b.date).getTime() - new Date(a.date).getTime())\n          .slice(0, 5);\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subs.unsubscribe();\n  }\n\n  backToList(): void {\n    this.router.navigate(['/cows']);\n  }\n\n  getSexLabel(): string {\n    if (!this.cow) {\n      return '';\n    }\n    return this.cow.sex === 'F' ? 'Female' : 'Male';\n  }\n}\n","<p-card class=\"detail-card\" *ngIf=\"cow\">\n <ng-template pTemplate=\"header\">\n  <div class=\"detail-header\">\n    <h2 class=\"detail-title\">Cow Details – {{ cow?.earTag }}</h2>\n\n    <button\n      pButton\n      type=\"button\"\n      label=\"Back\"\n      icon=\"pi pi-arrow-left\"\n      class=\"p-button-secondary back-btn\"\n      (click)=\"backToList()\"\n    ></button>\n  </div>\n</ng-template>\n\n  <div class=\"cow-info-grid\">\n    <div class=\"info-item\">\n      <label>Ear Tag</label>\n      <div class=\"value\">{{ cow.earTag }}</div>\n    </div>\n\n    <div class=\"info-item\">\n      <label>Sex</label>\n      <div class=\"value\">{{ getSexLabel() }}</div>\n    </div>\n\n    <div class=\"info-item\">\n      <label>Pen</label>\n      <div class=\"value\">{{ cow.pen }}</div>\n    </div>\n\n    <div class=\"info-item\">\n      <label>Status</label>\n      <div class=\"value\">{{ cow.status | statusLabel }}</div>\n    </div>\n\n    <div class=\"info-item\">\n      <label>Current Weight</label>\n      <div class=\"value\">{{ cow.weight ?? '—' }} kg</div>\n    </div>\n\n    <div class=\"info-item\">\n      <label>Daily Weight Gain</label>\n      <div class=\"value\">\n        <ng-container *ngIf=\"cow.dailyWeightGain !== undefined; else NA\">\n          {{ cow.dailyWeightGain }} kg/day\n        </ng-container>\n        <ng-template #NA>—</ng-template>\n      </div>\n    </div>\n\n    <div class=\"info-item\">\n      <label>Last Event Date</label>\n      <div class=\"value\">{{ cow.lastEventDate | date: 'medium' }}</div>\n    </div>\n  </div>\n\n  <h3 class=\"timeline-title\">Recent Events</h3>\n\n  <p-timeline\n    [value]=\"lastEvents\"\n    align=\"alternate\"\n    styleClass=\"custom-timeline\"\n  >\n    <ng-template pTemplate=\"content\" let-event>\n      <div class=\"timeline-box\">\n        <div class=\"event-type\">{{ event.type }}</div>\n        <div class=\"event-desc\">{{ event.description }}</div>\n        <div class=\"event-date\">{{ event.date | date: 'medium' }}</div>\n      </div>\n    </ng-template>\n  </p-timeline>\n</p-card>\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { CowFilterState } from '../../../core/services/cow.service';\nimport { CowStatus } from '../../../core/models/cow-status.enum';\n\n@Component({\n  selector: 'app-cow-filters',\n  templateUrl: './cow-filters.component.html',\n  styleUrls: ['./cow-filters.component.scss']\n})\nexport class CowFiltersComponent {\n  @Input() filterState!: CowFilterState;\n  @Input() pens: string[] = [];\n\n  @Output() filterChange = new EventEmitter<Partial<CowFilterState>>();\n\n  cowStatus = CowStatus;\n\n  statusOptions = [\n    { label: 'All statuses', value: 'ALL' },\n    { label: 'Active', value: CowStatus.ACTIVE },\n    { label: 'In Treatment', value: CowStatus.IN_TREATMENT },\n    { label: 'Deceased', value: CowStatus.DECEASED }\n  ];\n\n  get penOptions() {\n    const base = [{ label: 'All pens', value: 'ALL' }];\n    const pens = this.pens.map(p => ({ label: p, value: p }));\n    return [...base, ...pens];\n  }\n\n  onTagSearchChange(value: string): void {\n    this.filterChange.emit({ tagSearch: value });\n  }\n\n  onStatusChange(value: CowStatus | 'ALL'): void {\n    this.filterChange.emit({ status: value });\n  }\n\n  onPenChange(value: string | 'ALL'): void {\n    this.filterChange.emit({ pen: value });\n  }\n\n  onSearchClick(){}\n}\n","<div class=\"filter-container\">\n  <div class=\"filter-title\">Filters</div>\n\n  <div class=\"filter-row\">\n    <div class=\"filter-item\">\n      <label for=\"tagSearch\">Tag Search</label>\n      <input\n        id=\"tagSearch\"\n        type=\"text\"\n        pInputText\n        [ngModel]=\"filterState?.tagSearch\"\n        (ngModelChange)=\"onTagSearchChange($event)\"\n        placeholder=\"Search by ear tag\"\n      />\n    </div>\n\n    <div class=\"filter-item\">\n      <label for=\"statusFilter\">Status</label>\n      <p-dropdown\n        inputId=\"statusFilter\"\n        [options]=\"statusOptions\"\n        [ngModel]=\"filterState?.status\"\n        (onChange)=\"onStatusChange($event.value)\"\n      ></p-dropdown>\n    </div>\n\n    <div class=\"filter-item\">\n      <label for=\"penFilter\">Pen</label>\n      <p-dropdown\n        inputId=\"penFilter\"\n        [options]=\"penOptions\"\n        [ngModel]=\"filterState?.pen\"\n        (onChange)=\"onPenChange($event.value)\"\n      ></p-dropdown>\n    </div>\n  </div>\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { CowService } from '../../../core/services/cow.service';\nimport { CowStatus } from '../../../core/models/cow-status.enum';\nimport { Cow } from '../../../core/models/cow.model';\n\n@Component({\n  selector: 'app-cow-form',\n  templateUrl: './cow-form.component.html',\n  styleUrls: ['./cow-form.component.scss']\n})\nexport class CowFormComponent implements OnInit {\n\n  form!: FormGroup;\n  isEditMode = false;\n  cowId?: string;\n\n  statusOptions = [\n    { label: 'Active', value: CowStatus.ACTIVE },\n    { label: 'In Treatment', value: CowStatus.IN_TREATMENT },\n    { label: 'Deceased', value: CowStatus.DECEASED }\n  ];\n\n  sexOptions = [\n    { label: 'Female', value: 'F' },\n    { label: 'Male', value: 'M' }\n  ];\n\n  constructor(\n    private fb: FormBuilder,\n    private cowService: CowService,\n    private route: ActivatedRoute,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.buildForm();\n\n    this.cowId = this.route.snapshot.paramMap.get('id') ?? undefined;\n\n    if (this.cowId && this.cowId !== 'new') {\n      this.isEditMode = true;\n\n      this.cowService.getCowById(this.cowId).subscribe(cow => {\n        if (cow) {\n          this.form.patchValue({\n            earTag: cow.earTag,\n            sex: cow.sex,\n            pen: cow.pen,\n            status: cow.status,\n            weight: cow.weight,\n            dailyWeightGain: cow.dailyWeightGain\n          });\n        }\n      });\n    }\n  }\n\n  private buildForm(): void {\n    this.form = this.fb.group({\n      earTag: ['', [Validators.required]],\n      sex: [null, Validators.required],\n      pen: ['', Validators.required],\n      status: [CowStatus.ACTIVE, Validators.required],\n      weight: [null, [Validators.min(1)]],\n      dailyWeightGain: [null, [Validators.min(0.1)]]\n    });\n  }\n\n  submit(): void {\n    if (this.form.invalid) {\n      this.form.markAllAsTouched();\n      return;\n    }\n\n    const { earTag } = this.form.value;\n\n    // Unique Ear Tag Validation\n    if (this.cowService.hasCowWithEarTag(earTag, this.cowId)) {\n      this.form.get('earTag')?.setErrors({ notUnique: true });\n      this.form.markAllAsTouched();\n      return;\n    }\n\n    const now = new Date().toISOString();\n\n    const cow: Cow = {\n      id: this.cowId ?? this.generateId(),\n      earTag: this.form.value.earTag,\n      sex: this.form.value.sex,\n      pen: this.form.value.pen,\n      status: this.form.value.status,\n      weight: this.form.value.weight ?? undefined,\n      dailyWeightGain: this.form.value.dailyWeightGain ?? undefined,\n      lastEventDate: now,\n      events: []\n    };\n\n    this.cowService.upsertCow(cow);\n    this.router.navigate(['/cows']);\n  }\n\n  cancel(): void {\n    this.router.navigate(['/cows']);\n  }\n\n  private generateId(): string {\n    return (\n      Date.now().toString(36) + \n      Math.random().toString(36).substring(2, 9)\n    );\n  }\n}\n","<p-card>\n <ng-template pTemplate=\"header\">\n  <div class=\"form-header\">\n    <h2 class=\"form-title\">{{ isEditMode ? 'Edit Cow' : 'Add New Cow' }}</h2>\n  </div>\n</ng-template>\n\n  <form [formGroup]=\"form\" (ngSubmit)=\"submit()\" class=\"form-grid\">\n\n    <!-- Ear Tag -->\n    <div class=\"form-item\">\n      <label>Ear Tag *</label>\n      <input pInputText formControlName=\"earTag\" placeholder=\"Unique ear tag\" />\n      \n      <small class=\"p-error\"\n        *ngIf=\"form.get('earTag')?.hasError('required') && form.get('earTag')?.touched\">\n        Ear Tag is required.\n      </small>\n\n      <small class=\"p-error\"\n        *ngIf=\"form.get('earTag')?.hasError('notUnique')\">\n        This Ear Tag already exists.\n      </small>\n    </div>\n\n    <!-- Sex -->\n    <div class=\"form-item\">\n      <label>Sex *</label>\n      <p-dropdown\n        [options]=\"sexOptions\"\n        formControlName=\"sex\"\n        placeholder=\"Select sex\">\n      </p-dropdown>\n\n      <small class=\"p-error\"\n        *ngIf=\"form.get('sex')?.hasError('required') && form.get('sex')?.touched\">\n        Sex is required.\n      </small>\n    </div>\n\n    <!-- Pen -->\n    <div class=\"form-item\">\n      <label>Pen *</label>\n      <input pInputText formControlName=\"pen\" placeholder=\"i.e. A2\" />\n\n      <small class=\"p-error\"\n        *ngIf=\"form.get('pen')?.hasError('required') && form.get('pen')?.touched\">\n        Pen is required.\n      </small>\n    </div>\n\n    <!-- Status -->\n    <div class=\"form-item\">\n      <label>Status *</label>\n      <p-dropdown\n        [options]=\"statusOptions\"\n        formControlName=\"status\">\n      </p-dropdown>\n\n      <small class=\"p-error\"\n        *ngIf=\"form.get('status')?.hasError('required') && form.get('status')?.touched\">\n        Status is required.\n      </small>\n    </div>\n\n    <!-- Weight -->\n    <div class=\"form-item\">\n      <label>Weight (kg)</label>\n      <p-inputNumber formControlName=\"weight\" [min]=\"1\"></p-inputNumber>\n\n      <small class=\"p-error\"\n        *ngIf=\"form.get('weight')?.hasError('min') && form.get('weight')?.touched\">\n        Weight must be at least 1 kg.\n      </small>\n    </div>\n\n    <!-- Daily Weight Gain -->\n    <div class=\"form-item\">\n      <label>Daily Weight Gain (kg)</label>\n      <p-inputNumber formControlName=\"dailyWeightGain\" [min]=\"0.1\"></p-inputNumber>\n\n      <small class=\"p-error\"\n        *ngIf=\"form.get('dailyWeightGain')?.hasError('min') && form.get('dailyWeightGain')?.touched\">\n        Daily gain must be greater than 0.\n      </small>\n    </div>\n\n    <!-- Buttons -->\n    <div class=\"form-actions\">\n      <button pButton type=\"submit\" label=\"Save\" icon=\"pi pi-save\"></button>\n      <button pButton type=\"button\" class=\"p-button-secondary\" label=\"Cancel\" (click)=\"cancel()\"></button>\n    </div>\n\n  </form>\n</p-card>\n","import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Cow } from '../../../core/models/cow.model';\nimport { CowService, CowFilterState } from '../../../core/services/cow.service';\n\n@Component({\n  selector: 'app-cow-list',\n  templateUrl: './cow-list.component.html',\n  styleUrls: ['./cow-list.component.scss']\n})\nexport class CowListComponent implements OnInit, OnDestroy {\n  cows: Cow[] = [];\n  filterState!: CowFilterState;\n  pens: string[] = [];\n\n  private subs = new Subscription();\n\n  constructor(\n    private readonly cowService: CowService,\n    private readonly router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.filterState = this.cowService.getFilterSnapshot();\n    this.pens = this.cowService.getDistinctPens();\n\n    this.subs.add(\n      this.cowService.getFilteredCows$().subscribe(cows => {\n        this.cows = cows;\n      })\n    );\n\n    this.subs.add(\n      this.cowService.filterState$.subscribe(filter => {\n        this.filterState = filter;\n      })\n    );\n  }\n\n  ngOnDestroy(): void {\n    this.subs.unsubscribe();\n  }\n\n  onFilterChange(partial: Partial<CowFilterState>): void {\n    this.cowService.updateFilters(partial);\n  }\n\n  onRowSelect(cow: Cow): void {\n    this.router.navigate(['/cows', cow.id]);\n  }\n\n  onAddNew(): void {\n    this.router.navigate(['/cows', 'new']);\n  }\n\n  getSexLabel(cow: Cow): string {\n    return cow.sex === 'F' ? 'Female' : 'Male';\n  }\n}\n","<p-card>\n  <ng-template pTemplate=\"header\">\n    <div class=\"list-header\">\n      <h2></h2>\n      <button pButton class=\"add-button\" type=\"button\" label=\"Add New Cow\" icon=\"pi pi-plus\" (click)=\"onAddNew()\"></button>\n    </div>\n  </ng-template>\n\n  <app-cow-filters\n    [filterState]=\"filterState\"\n    [pens]=\"pens\"\n    (filterChange)=\"onFilterChange($event)\">\n  </app-cow-filters>\n\n  <p-table\n    [value]=\"cows\"\n    [paginator]=\"true\"\n    [rows]=\"5\"\n    [responsiveLayout]=\"'scroll'\"\n    selectionMode=\"single\"\n    dataKey=\"id\"\n    (onRowSelect)=\"onRowSelect($event.data)\"\n    [sortField]=\"'earTag'\"\n    [sortOrder]=\"1\">\n\n    <ng-template pTemplate=\"header\">\n      <tr>\n        <th pSortableColumn=\"earTag\">\n          Ear Tag\n          <p-sortIcon field=\"earTag\"></p-sortIcon>\n        </th>\n        <th pSortableColumn=\"sex\">\n          Sex\n          <p-sortIcon field=\"sex\"></p-sortIcon>\n        </th>\n        <th pSortableColumn=\"pen\">\n          Pen\n          <p-sortIcon field=\"pen\"></p-sortIcon>\n        </th>\n        <th pSortableColumn=\"status\">\n          Status\n          <p-sortIcon field=\"status\"></p-sortIcon>\n        </th>\n        <th pSortableColumn=\"lastEventDate\">\n          Last Event Date\n          <p-sortIcon field=\"lastEventDate\"></p-sortIcon>\n        </th>\n      </tr>\n    </ng-template>\n\n    <ng-template pTemplate=\"body\" let-row>\n      <tr [pSelectableRow]=\"row\">\n        <td>{{ row.earTag }}</td>\n        <td>{{ getSexLabel(row) }}</td>\n        <td>{{ row.pen }}</td>\n        <td>{{ row.status | statusLabel }}</td>\n        <td>{{ row.lastEventDate | date: 'mediumDate' }}</td>\n      </tr>\n    </ng-template>\n\n    <ng-template pTemplate=\"emptymessage\">\n      <tr>\n        <td colspan=\"5\">No cows found.</td>\n      </tr>\n    </ng-template>\n  </p-table>\n</p-card>\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { CowListComponent } from './components/cow-list/cow-list.component';\nimport { CowFormComponent } from './components/cow-form/cow-form.component';\nimport { CowDetailComponent } from './components/cow-detail/cow-detail.component';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: CowListComponent\n  },\n  {\n    path: 'new',\n    component: CowFormComponent\n  },\n  {\n    path: ':id',\n    component: CowDetailComponent\n  }\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule]\n})\nexport class CowsRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { SharedModule } from '../shared/shared.module';\nimport { CowsRoutingModule } from './cows-routing.module';\n\nimport { CowListComponent } from './components/cow-list/cow-list.component';\nimport { CowDetailComponent } from './components/cow-detail/cow-detail.component';\nimport { CowFormComponent } from './components/cow-form/cow-form.component';\nimport { CowFiltersComponent } from './components/cow-filters/cow-filters.component';\n\n@NgModule({\n  declarations: [\n    CowListComponent,\n    CowDetailComponent,\n    CowFormComponent,\n    CowFiltersComponent\n  ],\n  imports: [\n    SharedModule,\n    CowsRoutingModule\n  ]\n})\nexport class CowsModule {}\n"],"names":["CowEventType","BehaviorSubject","combineLatest","map","CowStatus","STORAGE_KEY","CowService","constructor","storage","cowsSubject","cows$","asObservable","filterStateSubject","tagSearch","status","pen","filterState$","persisted","getItem","length","next","seed","buildMockData","persist","getCowById","id","pipe","cows","find","c","getCowByTag","tag","value","earTag","toLowerCase","upsertCow","cow","list","existingIndex","findIndex","push","addCowEvent","cowId","event","idx","events","sort","a","b","Date","date","getTime","lastEventDate","deleteCow","filter","hasCowWithEarTag","excludeId","some","updateFilters","partial","getFilteredCows$","filters","applyFilters","getFilterSnapshot","getDistinctPens","pens","Set","forEach","add","Array","from","matchesTag","includes","matchesStatus","matchesPen","setItem","now","daysAgo","d","dt","setDate","getDate","toISOString","cow1","sex","ACTIVE","weight","dailyWeightGain","cowTag","type","WEIGHT_CHECK","description","PEN_CHANGED","cow2","IN_TREATMENT","TREATMENT","cow3","DECEASED","DEATH","i0","ɵɵinject","i1","LocalStorageService","factory","ɵfac","providedIn","key","window","raw","localStorage","JSON","parse","error","console","stringify","removeItem","Subscription","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","CowDetailComponent_p_card_0_ng_template_1_Template_button_click_3_listener","ɵɵrestoreView","_r1","ctx_r1","ɵɵnextContext","ɵɵresetView","backToList","ɵɵadvance","ɵɵtextInterpolate1","ɵɵelementContainerStart","ɵɵtextInterpolate","event_r3","ɵɵpipeBind2","ɵɵtemplate","CowDetailComponent_p_card_0_ng_template_1_Template","CowDetailComponent_p_card_0_ng_container_33_Template","CowDetailComponent_p_card_0_ng_template_34_Template","ɵɵtemplateRefExtractor","CowDetailComponent_p_card_0_ng_template_45_Template","getSexLabel","ɵɵpipeBind1","tmp_6_0","undefined","ɵɵproperty","NA_r4","lastEvents","CowDetailComponent","route","router","cowService","subs","ngOnInit","snapshot","paramMap","get","navigate","subscribe","slice","ngOnDestroy","unsubscribe","ɵɵdirectiveInject","ActivatedRoute","Router","i2","selectors","decls","vars","consts","template","CowDetailComponent_Template","rf","ctx","CowDetailComponent_p_card_0_Template","EventEmitter","CowFiltersComponent","filterChange","cowStatus","statusOptions","label","penOptions","base","p","onTagSearchChange","emit","onStatusChange","onPenChange","onSearchClick","inputs","filterState","outputs","CowFiltersComponent_Template","CowFiltersComponent_Template_input_ngModelChange_7_listener","$event","CowFiltersComponent_Template_p_dropdown_onChange_11_listener","CowFiltersComponent_Template_p_dropdown_onChange_15_listener","Validators","ctx_r0","isEditMode","CowFormComponent","fb","sexOptions","buildForm","form","patchValue","group","required","min","submit","invalid","markAllAsTouched","setErrors","notUnique","generateId","cancel","toString","Math","random","substring","FormBuilder","i3","CowFormComponent_Template","CowFormComponent_ng_template_1_Template","CowFormComponent_Template_form_ngSubmit_2_listener","ɵɵelement","CowFormComponent_small_7_Template","CowFormComponent_small_8_Template","CowFormComponent_small_13_Template","CowFormComponent_small_18_Template","CowFormComponent_small_23_Template","CowFormComponent_small_28_Template","CowFormComponent_small_33_Template","CowFormComponent_Template_button_click_36_listener","tmp_1_0","hasError","touched","tmp_2_0","tmp_4_0","tmp_5_0","tmp_7_0","tmp_9_0","tmp_11_0","CowListComponent_ng_template_1_Template_button_click_2_listener","onAddNew","row_r3","CowListComponent","onFilterChange","onRowSelect","CowListComponent_Template","CowListComponent_ng_template_1_Template","CowListComponent_Template_app_cow_filters_filterChange_2_listener","CowListComponent_Template_p_table_onRowSelect_3_listener","data","CowListComponent_ng_template_4_Template","CowListComponent_ng_template_5_Template","CowListComponent_ng_template_6_Template","RouterModule","routes","path","component","CowsRoutingModule","forChild","imports","exports","SharedModule","CowsModule","declarations"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}